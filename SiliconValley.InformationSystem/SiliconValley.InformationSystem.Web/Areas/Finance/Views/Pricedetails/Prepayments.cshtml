
@{
    ViewBag.Title = "Prepayments";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<form class="layui-form" action="">
    <div class="layui-carousel-left">
        <div class="layui-row ">


            <div class="layui-row layui-form-item">


              
                <div class="layui-col-xs2 layui-col-sm2 layui-col-md2">
                    <label class="layui-form-label labels">姓名</label>
                    <div class="layui-input-block">
                        <input type="text" name="Name" class="layui-input linu">
                    </div>
                </div>
                <div style="margin-left:100px;" class="layui-col-xs2 layui-col-sm2 layui-col-md2">
                    <button class="layui-btn" lay-submit="" type="button" lay-filter="demo2"><i class="layui-icon">&#xe615;</i> 查询</button>
                </div>
            </div>

            


        </div>

    </div>
</form>

<div>
    <table class="layui-hide" id="test" lay-filter="test"></table>
</div>

@section script{}
<script>

    layui.use(['table', 'layer', 'tree', 'form'], function () {
        var table = layui.table;
        var layer = layui.layer;
        var form = layui.form;

        //表格渲染
        table.render({
            elem: '#test'
            , url: '/Finance/Pricedetails/PrepaymentsDate'
            , toolbar: '#toolbarDemo'
            , id: 'idTest'
            , page: true
            , cellMinWidth: 80 //全局定义常规单元格的最小宽度，layui 2.2.1 新增
            , cols: [[
                { type: 'radio' }
                , { field: 'StuName', title: '姓名', sort: true }
                , { field: 'Stuphone', title: '电话' }
                , { field: 'StuSex', title: '性别 ' }
                , { field: 'RegionName', title: '家庭住址 ' }
                , { field: 'StuEntering', title: '咨询师 ' }
                , { field: 'empName', title: '招生老师 ' }
                , { field: 'stuinfomation', title: '招生类型 ' }



            ]]
            , page: true
            , limit: 15
            , limits: [15, 18, 20]
        });


        //查询功能
        form.on('submit(demo2)', function (data) {
            var x = data.field;
            console.log(x);
            table.reload('idTest', {
                where: {
                    Name: x.Name
                }, page: {
                    curr: 1
                }
            });
            return false;
        });

        ////监听操作按钮
        //table.on('tool(test)', function (obj) { //注：tool是工具条事件名，test是table原始容器的属性 lay-filter="对应的值"
        //    var data = obj.data; //获得当前行数据
        //    var layEvent = obj.event; //获得 lay-event 对应的值（也可以是表头的 event 参数对应的值）
        //    var tr = obj.tr; //获得当前行 tr 的DOM对象

        //    if (layEvent === 'process') { //查看
        //        console.log(data);
        //        layer.open({
        //            type: 2,
        //            content: "/Finance/Pricedetails/Entryreview/" + data.id + "?Passornot=" + data.Passornot + "&studentid=" + data.studentid + "&OddNumbers=" + data.OddNumbers
        //            , area: ['800px', '600px']
        //            , title: "入账审核"
        //            , end: function () { table.reload('idTest'); }
        //            , shade: 0.3
        //            , anim: 1


        //        });

        //    }

        //});


    });

</script>