
@{
    ViewBag.Title = "RecruitIndex";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<div class="layui-tab layui-tab-card">
    <ul class="layui-tab-title">
        <li class="layui-this">人才需求计划</li>
        <li>招聘追踪记录</li>
        <li>月度招聘数据汇总</li>

    </ul>
    <div class="layui-tab-content" >
        <div class="layui-tab-item layui-show">
                <table id="tdpTab" lay-filter="test1"></table>
                @*头部工具栏*@
                <script type="text/html" id="toolbarDemo1">
                    <div class="layui-btn-container">
                        <button class="layui-btn layui-btn-sm" lay-event="addDemand">添加人才需求</button>
                        <button class="layui-btn layui-btn-sm" lay-event="addDemand">Excel文件导入</button>
                    </div>
                </script>
        </div>

        <div class="layui-tab-item">
            <table id="tdpTab" lay-filter="test2"></table>
            @*头部工具栏*@
            <script type="text/html" id="toolbarDemo2">
                <div class="layui-btn-container">
                    <button class="layui-btn layui-btn-sm" lay-event="addDemand">添加招聘追踪数据</button>
                </div>
            </script>
        </div>
        <div class="layui-tab-item">
            <table id="recruitTab" lay-filter="test3"></table>
            @*头部工具栏*@
            <script type="text/html" id="toolbarDemo3">
                <div class="layui-btn-container">
                    <button class="layui-btn layui-btn-sm" lay-event="addDept">添加月度招聘汇总信息</button>
                </div>
            </script>
        </div>

    </div>
</div>

@section script{
    <script>
      
        //人才需求计划
        layui.use(['table', 'layer', 'form', 'laydate', 'element'], function () {
            var table = layui.table;
            var layer = layui.layer;
            var form = layui.form;
            var laydate = layui.laydate;
            var element = layui.element;

            table.render({
                elem: '#tdpTab'
                , url: '/Personnelmatters/RecruitingDataSummary/GetTalantDemandData'
                , id: "myRecruitData"
                , toolbar: '#toolbarDemo1'
                , limits: [1, 3, 6, 9, 12, 15, 18]
                , limit: 6
                , cols: [[
                    , { field: 'dname', title: '部门', sort: true, width: 120 }
                    , { field: 'pname', title: '岗位名称', width: 126 }
                    , { field: 'DemandPersonNum', title: '需求人数', width: 108, sort: true }
                    , { field: 'PlanEntryTime', title: '预入职时间', width: 110, sort: true}
                    , { field: 'PositionStatement', title: '岗位职责', width: 110, sort: true }
                    , { field: 'PositionRequest', title: '岗位要求', width: 110, sort: true }
                    , { field: 'RecruitReason', title: '招聘原因', sort: true, width: 110 }
                    , { field: 'empname', title: '负责人', width: 100 }
                    , { field: 'ApplyTime', title: '需求申请时间', width: 100 }
                    , { field: 'Remark', title: '备注', sort: true, width: 90 }

                ]], 
                data: [{
                    IdCardIndate: '',
                    SSStartMonth: ''
                }]
                , page: true
            });
        });

        //招聘电话追踪数据
        layui.use(['table', 'layer', 'form', 'laydate', 'element'], function () {
            var table = layui.table;
            var layer = layui.layer;
            var form = layui.form;
            var laydate = layui.laydate;
            var element = layui.element;

            table.render({
                elem: '#tdpTab'
                , url: '/Personnelmatters/RecruitingDataSummary/GetTraceData'
                , id: "myRecruitData"
                , toolbar: '#toolbarDemo1'
                , limits: [1, 3, 6, 9, 12, 15, 18]
                , limit: 6
                , cols: [[
                    , { field: 'Name', title: '姓名', sort: true, width: 120 }
                    , { field: 'pname', title: '应聘岗位', width: 126 }
                    , { field: 'PhoneNumber', title: '手机号', width: 108, sort: true }
                    , { field: 'TraceTime', title: '追踪时间', width: 110, sort: true }
                    , { field: 'Channel', title: '渠道', width: 110, sort: true }
                    , { field: 'ResumeType', title: '简历类型', sort: true, width: 110 }
                    , { field: 'PhoneCommunicateResult', title: '电话沟通结果', width: 100 }
                    , { field: 'FirstInterviewDate', title: '初试日期', width: 100 }
                    , { field: 'IsInterview', title: '是否面试', width: 100 }
                    , { field: 'FirstInterviewResult', title: '初试结果', width: 100 }
                    , { field: 'RetestDate', title: '复试日期', width: 100 }
                    , { field: 'RetestResult', title: '复试结果', width: 100 }
                    , { field: 'OfferGiveTime', title: 'offer时间', width: 100 }
                    , { field: 'PlanEntryTime', title: '预计入职时间', width: 100 }
                    , { field: 'IsEntry', title: '是否入职', width: 100 }
                    , { field: 'Remark', title: '备注', sort: true, width: 90 }

                ]],
                data: [{
                    IdCardIndate: '',
                    SSStartMonth: ''
                }]
                , page: true
            });
        });

        //月度招聘数据汇总
        layui.use(['table', 'layer', 'form', 'laydate', 'element'], function () {
            var table = layui.table;
            var layer = layui.layer;
            var form = layui.form;
            var laydate = layui.laydate;
            var element = layui.element;

            table.render({
                elem: '#recruitTab'
                , url: '/Personnelmatters/RecruitingDataSummary/GetRecruitData'
                , id: "myRecruitData"
                , toolbar: '#toolbarDemo3'
                , limits: [1, 3, 6, 9, 12, 15, 18]
                , limit: 6
                , cols: [[
                    , { field: 'YearAndMonth', title: '月份', sort: true, width: 120 }
                    , { field: 'Pid', title: '岗位', width: 126 }
                    , { field: 'PlanRecruitNum', title: '计划招聘人数', width: 108, sort: true }
                    , { field: 'ResumeSum', title: '简历总数', width: 110, sort: true }
                    , { field: 'OutboundCallSum', title: '电话呼出总数', width: 110, sort: true }
                    , { field: 'InstantInviteSum', title: '当月邀约总数', width: 110, sort: true }
                    , { field: 'InstantToFacesSum', title: '当月到面总数', sort: true, width: 110 }
                    , { field: 'InstantRetestSum', title: '当月复试总数', width: 100 }
                    , { field: 'InstantRetestPassSum', title: '当月复试通过总数', sort: true, width: 90 }
                    , { field: 'InstantEntryNum', title: '当月入职人数', sort: true, width: 90 }
                    , { field: 'InstantToFacesRate', title: '当月到面率', sort: true, width: 100 }
                    , { field: 'InstantInviteRate', title: '当月邀约率', sort: true, width: 120 }
                    , { field: 'InstantRetestPassrate', title: '当月复试通过率', sort: true, width: 120 }
                    , { field: 'EntryRate', title: '入职率', sort: true, width: 120 }
                    , { field: 'RecruitPercentage', title: '招聘完成率', sort: true, width: 120 }
                    , { field: 'Remark', title: '备注', sort: true, width: 120 }

                ]]
                , page: true
            });
        });

    </script>

}

